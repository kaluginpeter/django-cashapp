{% extends 'base.html' %}

{% block content %}
    <a class="btn btn-outline-secondary mb-3" href="/">На главную</a>

    <div class="card shadow mb-3">
        <div class="card-header">
            <div class="d-flex justify-content-between">
                <h4>История изменений</h4>

                <form class="d-flex justify-content-between align-items-center gap-3">
                    <label>Показывать на странице:</label>

                    <select class="form-select" name="per_page" style="width: 200px" onchange="this.form.submit()">
                        <option value="10" {% if request.GET.per_page == "10" %}selected{% endif %}>10</option>
                        <option value="25" {% if request.GET.per_page == "25" %}selected{% endif %}>25</option>
                        <option value="50" {% if request.GET.per_page == "50" %}selected{% endif %}>50</option>
                    </select>
                </form>
            </div>
        </div>
        <form method="get">
            <div class="dropdown">
                <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1"
                        data-bs-toggle="dropdown" aria-expanded="false">
                    Сортировать по:
                </button>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                    <li>
                        <button class="dropdown-item" name="sort" type="submit" value="amount">по цене - по
                            возрастанию
                        </button>
                    </li>
                    <li>
                        <button class="dropdown-item" name="sort" type="submit" value="-amount">по цене - по убыванию
                        </button>
                    </li>
                    <li>
                        <button class="dropdown-item" name="sort" type="submit" value="created">по дате - сначала
                            старые
                        </button>
                    </li>
                    <li>
                        <button class="dropdown-item" name="sort" type="submit" value="-created">по дате - сначала
                            новые
                        </button>
                    </li>
                </ul>
            </div>
        </form>
        <div class="card-body">
            {% with payments=page_obj.object_list %}
                {% include 'balance/components/table.html' %}
            {% endwith %}
        </div>
    </div>
{% endblock %}